{% extends 'base.html' %}

{% block content %}
<script>
    if (!localStorage.getItem('user')) {
        window.location = "/"
    }
</script>
<div id="big-dimmer"></div>
<div id="chat">
    <header>
        <div class="left">
            <button id="exit" type="button" class="back"><i class="material-icons">exit_to_app</i></button>
            <h4>Чаты</h4>
        </div>
        <div class="right"><button type="button"><i class="material-icons">more_vert</i></button></div>
    </header>
    <div class="wrpr"></div>
    <div class="main-chat">
        <div class="chat-list">
            <div class="one-chat">
                <img src="https://sun9-31.userapi.com/c854324/v854324705/18948e/QfloruEg9_4.jpg" alt="">
                <span>Nickname</span>
            </div>
        </div>
        <div class="chat">
            <div class="center">Выберите чат</div>
        </div>
    </div>
</div>
<script>

    $("#exit").click((e) => {
        localStorage.removeItem("user");
        dimm('/');
    })
    
    const dimm = (loc) => {
        var size = 0;
        var acc = 70;
        var bd = setInterval(() => {
            $("#big-dimmer").css("clip-path",`circle(${size}px at 3rem 2rem)`);
            size += acc;
            acc += 10;
            if (size > window.innerHeight*2) {
                clearInterval(bd);
                window.location = loc
            }
        }, 50)
    }
    const activate = (e) => {e.target.parentNode.classList.add("active")}
    const deactivate = (e) => {e.target.parentNode.classList.remove("active")}
    const checkall = () => {
        if (email && password) {
            $("#send").removeClass("disabled");
        } else {
            $("#send").addClass("disabled");
        }
    }
    $("#big-dimmer").css("clip-path",`circle(0px at 3rem 2rem)`);
</script>
{% endblock %}